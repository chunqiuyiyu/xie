<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="A single HTML notebook, perfect for minimalists."><title>Xie</title><script type="module" crossorigin>(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const m=(e,...c)=>e.reduce((o,r,t)=>o+r+(c[t]??""),""),g=e=>{e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},y=()=>{const e=document.querySelector("#buildTime");if(e){const r=new Date;e.textContent=`at ${r.toLocaleDateString()}`}const c=document.createElement("a"),o=document.documentElement.outerHTML;c.setAttribute("href","data:text/html;charset=utf-8,"+encodeURIComponent(o)),c.setAttribute("download","index.html"),g(c)};let s="";const p=e=>{s=e;const c=document.querySelector("#title"),o=document.querySelector("#story"),r=e?document.querySelector(`#${e}`):null;c.value=e||"",o.value=e?r.querySelector(".content").innerHTML:""},$=e=>{if(!e)return;const c=document.querySelector(`#${e}`);c&&c.parentNode.removeChild(c);const o=document.querySelector("#archive");if(o){const r=o.querySelector(`a[href="#${e}"]`)?.parentNode;r&&r.parentNode.removeChild(r)}},b=e=>{confirm(`Are you sure to delete "${e}"?`)&&$(e)},i=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},q=e=>(o=>o.replace(/^##### (.*?)\s*#*$/gm,"<h5>$1</h5>").replace(/^#### (.*?)\s*#*$/gm,"<h4>$1</h4>").replace(/^### (.*?)\s*#*$/gm,"<h3>$1</h3>").replace(/^## (.*?)\s*#*$/gm,"<h2>$1</h2>").replace(/^# (.*?)\s*#*$/gm,"<h1>$1</h1>").replace(/^<h(\d)>(.*?)\s*{(.*)}\s*<\/h\d>$/gm,'<h$1 id="$3">$2</h$1>').replace(/^-{3,}|^_{3,}|^\*{3,}/gm,"<hr/>").replace(/``(.*?)``/gm,function(r,t){return"<code>"+i(t).replace(/`/g,"&#96;")+"</code>"}).replace(/`(.*?)`/gm,"<code>$1</code>").replace(/^>> (.*$)/gm,"<blockquote><blockquote>$1</blockquote></blockquote>").replace(/^> (.*$)/gm,"<blockquote>$1</blockquote>").replace(/<\/blockquote>\n<blockquote>/g,`
<br>`).replace(/<\/blockquote>\n<br><blockquote>/g,`
<br>`).replace(/!\[(.*?)]\((.*?) "(.*?)"\)/gm,'<img alt="$1" src="$2" $3 />').replace(/!\[(.*?)]\((.*?)\)/gm,'<img alt="$1" src="$2" />').replace(/\[(.*?)]\((.*?) "new"\)/gm,'<a href="$2" target=_new>$1</a>').replace(/\[(.*?)]\((.*?) "(.*?)"\)/gm,'<a href="$2" title="$3">$1</a>').replace(/<http(.*?)>/gm,'<a href="http$1">http$1</a>').replace(/\[(.*?)]\(\)/gm,'<a href="$1">$1</a>').replace(/\[(.*?)]\((.*?)\)/gm,'<a href="$2">$1</a>').replace(/^[*|+-][ |.](.*)/gm,"<ul><li>$1</li></ul>").replace(/<\/ul>\n<ul>/g,`
`).replace(/^\d[ |.](.*)/gm,"<ol><li>$1</li></ol>").replace(/<\/ol>\n<ol>/g,`
`).replace(/\*\*\*(.*)\*\*\*/gm,"<b><em>$1</em></b>").replace(/\*\*(.*)\*\*/gm,"<b>$1</b>").replace(/\*([\w ]*)\*/gm,"<em>$1</em>").replace(/___(.*)___/gm,"<b><em>$1</em></b>").replace(/__(.*)__/gm,"<u>$1</u>").replace(/_([\w ]*)_/gm,"<em>$1</em>").replace(/~~(.*)~~/gm,"<del>$1</del>").replace(/\^\^(.*)\^\^/gm,"<ins>$1</ins>").replace(/ {2}\n/g,`
<br/>`).replace(/\n\s*\n/g,`
<p>
`).replace(/^ {4,10}(.*)/gm,function(r,t){return"<pre><code>"+i(t)+"</code></pre>"}).replace(/^\t(.*)/gm,function(r,t){return"<pre><code>"+i(t)+"</code></pre>"}).replace(/<\/code><\/pre>\n<pre><code>/g,`
`).replace(/\\([`_~*+\-.^\\<>()\[\]])/gm,"$1"))(e);document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#btnNew").addEventListener("click",()=>{p()}),document.querySelector("#publish").addEventListener("click",()=>{s&&$(s);const r=document.createElement("section"),t=document.querySelector("#toast"),n=document.querySelector("#title"),a=document.querySelector("#story"),l=n?.value,f=a?.value;if(!l){t.textContent="Title is required.",t.togglePopover();return}r.id=l,r.innerHTML=m`
      <article>
        <h1>${l}</h1>
        <div style="color: gray; font-size: 0.9em; margin-bottom: 1em">
          <timedata>${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}</timedata>
          <a href="#new" class="edit">Edit</a> 
          <a
              href="#archive"
              class="del"
              style="color: red"
              >Delete</a
            >
          </div>
        </div>
        <article class="content">${q(f)}</article>
      </article>
    `,document.querySelector("main").append(r),r.querySelector(".edit").onclick=p.bind(void 0,l),r.querySelector(".del").onclick=b.bind(void 0,l);const h=document.querySelector("#archive ul"),d=document.createElement("li");d.innerHTML=m`<a href="#${l}">${l}</a
      ><time>${new Date().toLocaleDateString()}</time>`,h.append(d);const u=document.createElement("a");u.href="#archive",g(u)}),document.querySelector("#save").addEventListener("click",r=>{r.preventDefault(),y()})});</script><style rel="stylesheet" crossorigin>*{box-sizing:border-box}:root{color-scheme:light dark;--light:#fff;--lesslight:#efefef;--dark:#404040;--moredark:#000;--link:royalblue;border-top:5px solid var(--dark);line-height:1.5em;font-family:system-ui,sans-serif;font-size:16px;color:var(--dark)}h1{line-height:1em}button,input,textarea{font-size:1em}input{border:1px solid var(--dark);background-color:var(--lesslight);border-radius:.25em;padding:.5em}pre{background-color:var(--lesslight);margin:.5em 0;padding:.5em;overflow:auto}code{background-color:var(--lesslight)}blockquote{border-left:.25rem solid var(--dark);padding-left:1rem}body{background-color:var(--light);max-width:800px;padding:0 20px 20px;margin:0 auto}a{outline:0;color:var(--dark)}a:hover{text-decoration-color:var(--link)}img{max-width:100%;height:auto}.button,button,input[type=submit]{display:inline-block;background-color:var(--dark);color:var(--light);text-align:center;padding:.5em;border-radius:.25em;text-decoration:none;border:none;cursor:pointer}.button a{text-decoration:none}.button:hover,button:hover,input[type=submit]:hover{color:var(--lesslight);background-color:var(--moredark)}.button+.button,button+button,input[type=submit]+input[type=submit]{margin-left:1em}.center{display:block;margin-left:auto;margin-right:auto;text-align:center}.breathe{margin-top:3em}input.center{display:block;margin-top:1em}.bordered{border:3px solid}.home,.menu{display:inline-block;background-color:var(--dark);color:var(--light);margin-top:20px;padding:5px 10px;text-decoration:none;font-weight:700;border-radius:.25em}.menu{display:block;width:fit-content;margin-inline-start:auto}@media (min-width:600px){ol.twocol{column-count:2}.row{display:flex;flex-direction:row;padding:0;width:100%}.row>*{display:block;flex:1 1 auto;max-width:100%;width:100%}.row>:not(:last-child){margin-right:10px}}@media (prefers-color-scheme:dark){:root{--light:#222;--lesslight:#333;--dark:#eee;--moredark:#fefefe}:focus{outline:var(--light);box-shadow:0 0 0 .25em var(--link)}.button a{color:var(--light)}}@media print{.home{display:none}}section{display:none}section:target{display:initial}textarea{field-sizing:content;min-height:10lh}#archive{display:initial}#archive li a,header h1 a{text-decoration:none}#archive li a:hover,header h1 a:hover{text-decoration:underline}#archive ul{list-style:none;padding-left:0}#archive li{margin-bottom:1.5rem;margin-top:1.5rem}#archive li a{font-size:2rem;font-weight:700}#archive li time{color:gray;margin-left:.5rem}</style></head><body><header class="breathe"><h1><a href="#archive">Xie</a></h1><blockquote>A 9KB (3KB gzip) single HTML notebook, perfect for minimalists.</blockquote><p>Just write.</p><p><button id="save">Save</button> <a href="#new" id="btnNew">New</a></p></header><main><section id="archive"><ul></ul></section></main><section id="new"><p><label for="title" class="row"><input id="title" placeholder="Title"></label></p><p><label for="story" class="row"><textarea id="story" placeholder="Your story..."></textarea></label></p><button id="publish">Publish</button></section><aside popover id="toast"></aside><footer><p style="float:right">Â©2025 built with <a href="https://github.com/chunqiuyiyu/xie">Xie</a> <time id="buildTime"></time></p></footer></body></html>