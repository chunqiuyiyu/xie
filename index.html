<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="A single HTML notebook, perfect for minimalists."><title>Xie</title><script type="module" crossorigin>(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const p=(e,...c)=>e.reduce((o,t,r)=>o+t+(c[r]??""),""),s=e=>{e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},y=()=>{const e=document.querySelector("#buildTime");if(e){const t=new Date;e.textContent=`at ${t.toLocaleDateString()}`}const c=document.createElement("a"),o=document.documentElement.outerHTML;c.setAttribute("href","data:text/html;charset=utf-8,"+encodeURIComponent(o)),c.setAttribute("download","index.html"),s(c)};let d="";const g=e=>{d=e;const c=document.querySelector("#title"),o=document.querySelector("#story"),t=e?document.querySelector(`#${e}`):null;c.value=e||"",o.value=e?t.querySelector(".content").innerHTML:""},h=e=>{if(!e)return;const c=document.querySelector(`#${e}`);c&&c.parentNode.removeChild(c);const o=document.querySelector("#archive");if(o){const t=o.querySelector(`a[href="#${e}"]`)?.parentNode;t&&t.parentNode.removeChild(t)}},b=e=>{confirm(`Are you sure to delete "${e}"?`)&&h(e)},i=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},q=e=>(o=>o.replace(/^##### (.*?)\s*#*$/gm,"<h5>$1</h5>").replace(/^#### (.*?)\s*#*$/gm,"<h4>$1</h4>").replace(/^### (.*?)\s*#*$/gm,"<h3>$1</h3>").replace(/^## (.*?)\s*#*$/gm,"<h2>$1</h2>").replace(/^# (.*?)\s*#*$/gm,"<h1>$1</h1>").replace(/^<h(\d)>(.*?)\s*{(.*)}\s*<\/h\d>$/gm,'<h$1 id="$3">$2</h$1>').replace(/^-{3,}|^_{3,}|^\*{3,}/gm,"<hr/>").replace(/``(.*?)``/gm,function(t,r){return"<code>"+i(r).replace(/`/g,"&#96;")+"</code>"}).replace(/`(.*?)`/gm,"<code>$1</code>").replace(/^>> (.*$)/gm,"<blockquote><blockquote>$1</blockquote></blockquote>").replace(/^> (.*$)/gm,"<blockquote>$1</blockquote>").replace(/<\/blockquote>\n<blockquote>/g,`
<br>`).replace(/<\/blockquote>\n<br><blockquote>/g,`
<br>`).replace(/!\[(.*?)]\((.*?) "(.*?)"\)/gm,'<img alt="$1" src="$2" $3 />').replace(/!\[(.*?)]\((.*?)\)/gm,'<img alt="$1" src="$2" />').replace(/\[(.*?)]\((.*?) "new"\)/gm,'<a href="$2" target=_new>$1</a>').replace(/\[(.*?)]\((.*?) "(.*?)"\)/gm,'<a href="$2" title="$3">$1</a>').replace(/<http(.*?)>/gm,'<a href="http$1">http$1</a>').replace(/\[(.*?)]\(\)/gm,'<a href="$1">$1</a>').replace(/\[(.*?)]\((.*?)\)/gm,'<a href="$2">$1</a>').replace(/^[*|+-][ |.](.*)/gm,"<ul><li>$1</li></ul>").replace(/<\/ul>\n<ul>/g,`
`).replace(/^\d[ |.](.*)/gm,"<ol><li>$1</li></ol>").replace(/<\/ol>\n<ol>/g,`
`).replace(/\*\*\*(.*)\*\*\*/gm,"<b><em>$1</em></b>").replace(/\*\*(.*)\*\*/gm,"<b>$1</b>").replace(/\*([\w ]*)\*/gm,"<em>$1</em>").replace(/___(.*)___/gm,"<b><em>$1</em></b>").replace(/__(.*)__/gm,"<u>$1</u>").replace(/_([\w ]*)_/gm,"<em>$1</em>").replace(/~~(.*)~~/gm,"<del>$1</del>").replace(/\^\^(.*)\^\^/gm,"<ins>$1</ins>").replace(/ {2}\n/g,`
<br/>`).replace(/\n\s*\n/g,`
<p>
`).replace(/^ {4,10}(.*)/gm,function(t,r){return"<pre><code>"+i(r)+"</code></pre>"}).replace(/^\t(.*)/gm,function(t,r){return"<pre><code>"+i(r)+"</code></pre>"}).replace(/<\/code><\/pre>\n<pre><code>/g,`
`).replace(/\\([`_~*+\-.^\\<>()\[\]])/gm,"$1"))(e);document.addEventListener("DOMContentLoaded",()=>{if(location.hash===""||location.hash==="#"){const t=document.createElement("a");t.href="#archive",s(t)}document.querySelector("#btnNew").addEventListener("click",()=>{g()}),document.querySelector("#publish").addEventListener("click",()=>{d&&h(d);const t=document.createElement("section"),r=document.querySelector("#toast"),n=document.querySelector("#title"),a=document.querySelector("#story"),l=n?.value.trim(),$=a?.value;if(!l){r.textContent="Title is required.",r.togglePopover();return}t.id=l,t.innerHTML=p`
      <article>
        <h1>${l}</h1>
        <div style="color: gray; font-size: 0.9em; margin-bottom: 1em">
          <timedata>${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}</timedata>
          <a href="#new" class="edit">Edit</a> 
          <a
              href="#archive"
              class="del"
              style="color: red"
              >Delete</a
            >
          </div>
        </div>
        <article class="content">${q($)}</article>
      </article>
    `,document.querySelector("main").append(t),t.querySelector(".edit").onclick=g.bind(void 0,l),t.querySelector(".del").onclick=b.bind(void 0,l);const f=document.querySelector("#archive ul"),u=document.createElement("li");u.innerHTML=p`<a href="#${l}">${l}</a
      ><time>${new Date().toLocaleDateString()}</time>`,f.append(u);const m=document.createElement("a");m.href="#archive",s(m)}),document.querySelector("#save").addEventListener("click",t=>{t.preventDefault(),y()})});</script><style rel="stylesheet" crossorigin>*{box-sizing:border-box}:root{color-scheme:light dark;--light:#fff;--lesslight:#efefef;--dark:#404040;--moredark:#000;--link:royalblue;border-top:5px solid var(--dark);line-height:1.5em;font-family:system-ui,sans-serif;font-size:16px;color:var(--dark)}h1{line-height:1em}button,input,textarea{font-size:1em}input{border:1px solid var(--dark);background-color:var(--lesslight);border-radius:.25em;padding:.5em}pre{background-color:var(--lesslight);margin:.5em 0;padding:.5em;overflow:auto}code{background-color:var(--lesslight)}blockquote{border-left:.25rem solid var(--dark);padding-left:1rem}body{background-color:var(--light);max-width:800px;padding:0 20px 20px;margin:0 auto}a{outline:0;color:var(--dark)}a:hover{text-decoration-color:var(--link)}img{max-width:100%;height:auto}.button,button,input[type=submit]{display:inline-block;background-color:var(--dark);color:var(--light);text-align:center;padding:.5em;border-radius:.25em;text-decoration:none;border:none;cursor:pointer}.button a{text-decoration:none}.button:hover,button:hover,input[type=submit]:hover{color:var(--lesslight);background-color:var(--moredark)}.button+.button,button+button,input[type=submit]+input[type=submit]{margin-left:1em}.center{display:block;margin-left:auto;margin-right:auto;text-align:center}.breathe{margin-top:3em}input.center{display:block;margin-top:1em}.bordered{border:3px solid}.home,.menu{display:inline-block;background-color:var(--dark);color:var(--light);margin-top:20px;padding:5px 10px;text-decoration:none;font-weight:700;border-radius:.25em}.menu{display:block;width:fit-content;margin-inline-start:auto}@media (min-width:600px){ol.twocol{column-count:2}.row{display:flex;flex-direction:row;padding:0;width:100%}.row>*{display:block;flex:1 1 auto;max-width:100%;width:100%}.row>:not(:last-child){margin-right:10px}}@media (prefers-color-scheme:dark){:root{--light:#222;--lesslight:#333;--dark:#eee;--moredark:#fefefe}:focus{outline:var(--light);box-shadow:0 0 0 .25em var(--link)}.button a{color:var(--light)}}@media print{.home{display:none}}section{display:none}section:target{display:initial}textarea{field-sizing:content;min-height:10lh}#archive li a,header h1 a{text-decoration:none}#archive li a:hover,header h1 a:hover{text-decoration:underline}#archive ul{list-style:none;padding-left:0}#archive li{margin-bottom:1.5rem;margin-top:1.5rem}#archive li a{font-size:2rem;font-weight:700}#archive li time{color:gray;margin-left:.5rem}</style></head><body><header class="breathe"><h1><a href="#archive">Xie</a></h1><blockquote>A 9KB (3KB gzip) single HTML notebook, perfect for minimalists.</blockquote><ol><li>click "New", write, and click "Publish" to finish the note.</li><li>Click "Save" to save it to index.html on your system.</li></ol><p>Congratulations! You now have own notebook(index.html), feel free to update, edit, and share it anytime you like!</p><p><button id="save">Save</button> <a href="#new" id="btnNew">New</a></p></header><main><section id="archive"><ul></ul></section></main><section id="new"><p><label for="title" class="row"><input id="title" placeholder="Title"></label></p><p><label for="story" class="row"><textarea id="story" placeholder="Your story..."></textarea></label></p><button id="publish">Publish</button></section><aside popover id="toast"></aside><footer><p style="float:right">Â©2025 built with <a href="https://github.com/chunqiuyiyu/xie">Xie</a> <time id="buildTime"></time></p></footer></body></html>